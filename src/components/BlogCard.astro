---
interface Props {
  title: string;
  description: string;
  pubDate: Date;
  slug: string;
  tags?: string[];
}

const { title, description, pubDate, slug, tags = [] } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('ja-JP', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<article class="group rounded-xl border border-gray-200 bg-white p-6 transition-shadow hover:shadow-lg dark:border-gray-700 dark:bg-gray-800">
  <a href={`/blog/${slug}`} class="block">
    <div class="mb-3 flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400">
      <time datetime={pubDate.toISOString()}>{formattedDate}</time>
      {tags.length > 0 && (
        <div class="flex gap-1">
          {tags.slice(0, 2).map((tag) => (
            <span class="rounded bg-primary-100 px-2 py-0.5 text-xs text-primary-700 dark:bg-primary-900 dark:text-primary-300">
              {tag}
            </span>
          ))}
        </div>
      )}
    </div>
    <h3 class="mb-2 text-xl font-semibold text-gray-900 group-hover:text-primary-600 dark:text-gray-100 dark:group-hover:text-primary-400">
      {title}
    </h3>
    <p class="line-clamp-2 text-gray-600 dark:text-gray-400">
      {description}
    </p>
  </a>
</article>
